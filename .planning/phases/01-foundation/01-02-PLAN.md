---
phase: 01-foundation
plan: 02
type: execute
depends_on: ["01-01"]
files_modified: [src/app/layout.tsx, src/components/Navigation.tsx, src/app/page.tsx, src/app/city/[slug]/page.tsx, src/app/compare/page.tsx, src/app/calculator/page.tsx, src/app/rankings/page.tsx]
---

<objective>
Create root layout with navigation shell and route placeholders for main views.

Purpose: Establish navigation structure and routing foundation for all features.
Output: Working navigation between placeholder pages (Home, Rankings, Compare, Calculator, City detail).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Navigation component</name>
  <files>src/components/Navigation.tsx</files>
  <action>
    Create responsive navigation component:

    ```tsx
    'use client';

    import Link from 'next/link';
    import { usePathname } from 'next/navigation';

    const navItems = [
      { href: '/', label: 'Map' },
      { href: '/rankings', label: 'Rankings' },
      { href: '/compare', label: 'Compare' },
      { href: '/calculator', label: 'Calculator' },
    ];

    export function Navigation() {
      const pathname = usePathname();

      return (
        <nav className="border-b bg-white">
          <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div className="flex h-16 items-center justify-between">
              <Link href="/" className="text-xl font-bold">
                KABALA
              </Link>
              <div className="flex space-x-4">
                {navItems.map((item) => (
                  <Link
                    key={item.href}
                    href={item.href}
                    className={`px-3 py-2 text-sm font-medium rounded-md ${
                      pathname === item.href
                        ? 'bg-gray-100 text-gray-900'
                        : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'
                    }`}
                  >
                    {item.label}
                  </Link>
                ))}
              </div>
            </div>
          </div>
        </nav>
      );
    }
    ```

    Note: Use 'use client' for usePathname hook. Keep styling minimal - will polish later.
  </action>
  <verify>File exists at src/components/Navigation.tsx. No TypeScript errors.</verify>
  <done>Navigation component created with responsive styling and active state.</done>
</task>

<task type="auto">
  <name>Task 2: Update root layout with navigation</name>
  <files>src/app/layout.tsx</files>
  <action>
    Update src/app/layout.tsx to include Navigation:

    ```tsx
    import type { Metadata } from 'next';
    import { Inter } from 'next/font/google';
    import './globals.css';
    import { Navigation } from '@/components/Navigation';

    const inter = Inter({ subsets: ['latin'] });

    export const metadata: Metadata = {
      title: 'KABALA - Global Purchasing Power Dashboard',
      description: 'Compare cost of living and purchasing power across cities worldwide',
    };

    export default function RootLayout({
      children,
    }: {
      children: React.ReactNode;
    }) {
      return (
        <html lang="en">
          <body className={inter.className}>
            <Navigation />
            <main className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
              {children}
            </main>
          </body>
        </html>
      );
    }
    ```

    Note: Use Inter font for clean typography. Set proper metadata for SEO basics.
  </action>
  <verify>npm run dev shows navigation at top of page. No layout shift on navigation.</verify>
  <done>Root layout includes navigation and proper metadata.</done>
</task>

<task type="auto">
  <name>Task 3: Create route placeholder pages</name>
  <files>src/app/page.tsx, src/app/rankings/page.tsx, src/app/compare/page.tsx, src/app/calculator/page.tsx, src/app/city/[slug]/page.tsx</files>
  <action>
    Create placeholder pages for each route:

    1. src/app/page.tsx (Home/Map):
       ```tsx
       export default function HomePage() {
         return (
           <div>
             <h1 className="text-3xl font-bold">World Map</h1>
             <p className="mt-2 text-gray-600">Interactive map with city markers coming soon.</p>
             <div className="mt-8 h-96 bg-gray-100 rounded-lg flex items-center justify-center">
               <span className="text-gray-400">Map placeholder</span>
             </div>
           </div>
         );
       }
       ```

    2. src/app/rankings/page.tsx:
       ```tsx
       export default function RankingsPage() {
         return (
           <div>
             <h1 className="text-3xl font-bold">City Rankings</h1>
             <p className="mt-2 text-gray-600">Sortable table of cities coming soon.</p>
           </div>
         );
       }
       ```

    3. src/app/compare/page.tsx:
       ```tsx
       export default function ComparePage() {
         return (
           <div>
             <h1 className="text-3xl font-bold">Compare Cities</h1>
             <p className="mt-2 text-gray-600">Side-by-side city comparison coming soon.</p>
           </div>
         );
       }
       ```

    4. src/app/calculator/page.tsx:
       ```tsx
       export default function CalculatorPage() {
         return (
           <div>
             <h1 className="text-3xl font-bold">Budget Calculator</h1>
             <p className="mt-2 text-gray-600">Calculate your budget in different cities coming soon.</p>
           </div>
         );
       }
       ```

    5. src/app/city/[slug]/page.tsx (dynamic route):
       ```tsx
       export default function CityPage({ params }: { params: { slug: string } }) {
         return (
           <div>
             <h1 className="text-3xl font-bold">City: {params.slug}</h1>
             <p className="mt-2 text-gray-600">Detailed city information coming soon.</p>
           </div>
         );
       }
       ```

    Create directories as needed (src/app/rankings/, src/app/compare/, etc.)
  </action>
  <verify>
    All routes accessible:
    - http://localhost:3000/ (Map)
    - http://localhost:3000/rankings
    - http://localhost:3000/compare
    - http://localhost:3000/calculator
    - http://localhost:3000/city/berlin (dynamic route test)

    Navigation highlights current page.
    npm run build succeeds.
  </verify>
  <done>All route placeholders created and accessible via navigation.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Navigation shows at top of all pages
- [ ] All nav links work and highlight active page
- [ ] All 5 routes accessible (/, /rankings, /compare, /calculator, /city/[slug])
- [ ] `npm run build` succeeds
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Navigation works correctly across all pages
- Dynamic city route accepts slugs
- Phase 1 complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
