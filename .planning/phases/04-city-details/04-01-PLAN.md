---
phase: 04-city-details
plan: 01
type: execute
depends_on: []
files_modified: [src/components/City/MetricCard.tsx, src/components/City/MetricSection.tsx, src/components/City/index.ts]
---

<objective>
Create reusable metric display components for city detail pages.

Purpose: Build the UI building blocks for displaying cost of living data clearly.
Output: MetricCard and MetricSection components for organized metric display.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-data-layer/02-01-SUMMARY.md
@src/types/metrics.ts
@src/lib/currency.ts

**Tech stack available:** Next.js 16.1.4, React 19, TypeScript 5, Tailwind 4
**Data available:** CityWithMetrics with all metric categories
**Utilities available:** formatMoney, formatCurrency, formatPercent

**Metric categories to display:**
- Salary (average, median, minimum)
- Rent (studio, 1BR, 2BR, 3BR)
- Property (city center, outside)
- Food (groceries, restaurant, fast food)
- Transport (monthly pass, taxi, gas)
- Utilities (basic, internet, mobile)
- Lifestyle (gym, cinema, cappuccino)
- Education (preschool, school)
- Healthcare (doctor, medications)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MetricCard component</name>
  <files>src/components/City/MetricCard.tsx</files>
  <action>
Create a component for displaying a single metric:

1. Props interface:
   ```typescript
   interface MetricCardProps {
     label: string;
     value: MoneyAmount;
     currencyCode: string;
     showBoth?: boolean;  // Show both local + USD
     subtitle?: string;   // e.g., "per month", "per sqm"
   }
   ```

2. Layout:
   - Compact horizontal layout for lists
   - Label on left (text-gray-600)
   - Value on right (font-semibold)
   - Subtitle below value if provided (text-sm text-gray-500)

3. Use formatMoney from @/lib/currency for value display

4. Optional variant prop for different sizes:
   - "default" - standard size
   - "large" - for highlighted metrics (like average salary)

Keep simple - this is a display-only component.
  </action>
  <verify>Component renders with formatted currency value</verify>
  <done>MetricCard displays label, formatted value, and optional subtitle</done>
</task>

<task type="auto">
  <name>Task 2: Create MetricSection component</name>
  <files>src/components/City/MetricSection.tsx</files>
  <action>
Create a component for grouping related metrics:

1. Props interface:
   ```typescript
   interface MetricSectionProps {
     title: string;        // Section title (e.g., "Rent", "Food")
     icon?: React.ReactNode;  // Optional icon
     children: React.ReactNode;
   }
   ```

2. Layout:
   - Section title with bottom border
   - Grid or stack layout for children
   - Subtle background (bg-gray-50 or white with border)
   - Rounded corners, padding

3. Styling:
   - Title: text-lg font-semibold, border-b
   - Container: bg-white rounded-lg shadow-sm p-4
   - Children area: mt-3 space-y-2

4. Responsive:
   - Stack on mobile
   - Grid on larger screens if needed

Keep flexible - children can be MetricCards or any content.
  </action>
  <verify>Component renders with title and children properly laid out</verify>
  <done>MetricSection groups metrics with title and consistent styling</done>
</task>

<task type="auto">
  <name>Task 3: Create barrel export</name>
  <files>src/components/City/index.ts</files>
  <action>
Create barrel export for City components:

```typescript
export { MetricCard } from './MetricCard';
export { MetricSection } from './MetricSection';
```

This allows importing as:
```typescript
import { MetricCard, MetricSection } from '@/components/City';
```
  </action>
  <verify>Imports work from @/components/City</verify>
  <done>Barrel export created for City components</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] MetricCard displays formatted currency
- [ ] MetricSection groups content with title
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Components are reusable and well-typed
- Ready for city page integration in Plan 04-02
</success_criteria>

<output>
After completion, create `.planning/phases/04-city-details/04-01-SUMMARY.md`
</output>
